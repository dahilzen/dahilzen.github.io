<!DOCTYPE html>
<html>

    <head>
        <style type="text/css">
            body {
                text-align: center;
            }
            
            .welcome {
                font-family: arial;
                font-size: 40px;
            }
            
            .click {
                font-family: arial;
                font-size: 40px;
            }
            
            .afterclick {
                display: none;
                font-family: arial;
                font-size: 40px;
            }
            
            .countdown {
                display: none;
                font-family: arial;
                font-size: 40px;
            }

        </style>
        <title>Wann ist wieder Coding-Bootcamp?</title>
    </head>

    <body>
        <p class="welcome">Klicke auf den Button, um zu starten</p>
        <button class="click">Klick mich!</button>
        <p class="afterclick"></p>
        <p class="countdown"></p>
        <script>
            //  Start und Ende der nächsten Module setzen
            var modul3start = new Date("Oct 13, 2017 09:00:00").getTime();
            var modul3finish = new Date("Oct 17, 2017 16:00:00").getTime();
            var modul4start = new Date("Nov 27, 2017 09:00:00").getTime();
            var modul4finish = new Date("Nov 29, 2017 16:00:00").getTime();

            // Wir legen die ganzen Variablen an, die wir später noch brauchen
            var distance;
            var days;
            var hours;
            var minutes;
            var seconds;

            // Wir legen die Funktion an, mit der wir die Zeit berechnen und geben die berechneten Werte auch gleich aus
            function remainingTime() {
                days = Math.floor(distance / (1000 * 60 * 60 * 24));
                hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                seconds = Math.floor((distance % (1000 * 60)) / 1000);

                document.querySelector(".afterclick").innerHTML = "Das nächste Coding-Bootcamp startet in:";
                document.querySelector(".countdown").innerHTML = days + " Tagen <br/>" + hours + " Stunden<br/>" + minutes + " Minuten <br/>und<br/>" + seconds + " Sekunden";
            };


            // Wir generieren einen Counter, der sich jede Sekunde aktualisieren soll

            // Die Funktion soll erst nach dem Buttonclick starten, um Ressourcen auf der Landing-Page zu sparen
            function onclick(event) {

                // Das Intervall auf 1000ms setzen
                var countervar = setInterval(counter, 1000);

                // Die Funktion definieren
                function counter() {

                    //  Das heutige Datum aus den Systemeinstellungen lesen. Das muss innerhalb der Intervall-Funktion geschehen, weil sich die ausgelesene Zeit ansonsten nicht ändert und dementsprechend auch nicht heruntergezählt wird.
                    var now = new Date().getTime();


                    // Bei einem Datum vor dem Start des dritten Moduls zählt die Funktion die Tage bis zum 13. Oktober 2017
                    if (now < modul3start) {

                        // Berechnung des Abstands zu Modul 3
                        distance = modul3start - now;

                        // Funktion zur Berechnung der Zeit abrufen
                        remainingTime();
                    }

                    // Liegt das aktuelle Datum nach dem Ende des dritten Moduls, zählt die Funktion die Tage bis zum Start von Modul 4
                    else if ((now > modul3finish) && (now < modul4start)) {
                        //  Berechnung des Abstands zu Modul 4
                        distance = modul4start - now;

                        // Funktion zur Berechnung der Zeit abrufen
                        remainingTime();
                    }

                    // liegt das Datum zwischen dem Start und dem Ende von Modul 3 oder Modul 4, wünscht die Funktion viel Spaß beim coden.
                    else if (((now > modul3start) && (now < modul3finish)) || ((now > modul4start) && (now < modul4finish))) {
                        document.querySelector(".afterclick").style.display = "none";
                        document.querySelector(".countdown").innerHTML = "Das Coding-Bootcamp läuft.<br/>Viel Spaß beim coden!";
                    }

                    // liegt das Datum hinter dem Ende des vierten Moduls, bedauert die Funktion das Ende des Bootcamps
                    else {
                        document.querySelector(".afterclick").style.display = "none";
                        document.querySelector(".countdown").innerHTML = "Das Coding-Bootcamp 2017 ist leider beendet...<br/>Aber toll war es!";
                    }

                };

                event.preventDefault();
                document.querySelector(".welcome").style.display = "none";
                document.querySelector(".click").style.display = "none";
                document.querySelector(".afterclick").style.display = "block";
                document.querySelector(".countdown").style.display = "block";

            }

            document.querySelector(".click").addEventListener("click", onclick);

        </script>
    </body>

</html>

